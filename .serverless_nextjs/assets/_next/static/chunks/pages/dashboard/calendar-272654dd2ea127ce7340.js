(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{87175:function(e,t,n){"use strict";var i=n(14670),a=n(282);t.Z=(0,i.Z)((function(e){return{root:{borderRadius:0,fontWeight:e.typography.fontWeightMedium,fontFamily:e.typography.fontFamilySecondary,padding:e.spacing(2,4),fontSize:e.typography.pxToRem(14),boxShadow:"none","&:active, &:focus":{boxShadow:"none"}},sizeSmall:{padding:e.spacing(1,3),fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:e.spacing(2,5),fontSize:e.typography.pxToRem(16)}}}))(a.Z)},95015:function(e,t,n){"use strict";n.d(t,{ZP:function(){return H}});var i=n(809),a=n.n(i),r=n(92447),o=n(64121),s=n(26265),c=n(85893),l=n(67294),u=n(11163),d=n(86010),h=n(41120),p=n(75834),g=n(39636),f=n(99956),m=n(45258),x=n(28358),v=n(62822),w=n(22318),j=n(55517),y=n(17812),Z=n(43832),b=n(41749),S=n(89659),k=n(48884),E=n(89875),I=n(87175),O=n(50998),P=n(46869),B=n(95757),C=n(96837),D=n(50442),N=n(83905),_=n(44152),T=n(41664),A=(0,c.jsxs)("div",{children:[(0,c.jsx)(T.default,{href:"/dashboard",children:(0,c.jsxs)(O.Z,{button:!0,children:[(0,c.jsx)(P.Z,{children:(0,c.jsx)(D.Z,{})}),(0,c.jsx)(B.Z,{primary:"Management Reserved"})]})}),(0,c.jsx)(T.default,{href:"/dashboard/calendar",children:(0,c.jsxs)(O.Z,{button:!0,children:[(0,c.jsx)(P.Z,{children:(0,c.jsx)(N.Z,{})}),(0,c.jsx)(B.Z,{primary:"Calendars Reserved"})]})})]}),R=(C.Z,O.Z,P.Z,_.Z,B.Z,O.Z,P.Z,_.Z,B.Z,O.Z,P.Z,_.Z,B.Z,n(75808)),z=n(95477);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=(0,l.createContext)();G.Provider,G.Consumer;function X(){return(0,c.jsxs)(w.Z,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(0,c.jsx)(S.Z,{color:"inherit",href:"www.thaivintagewhitchurch.co.uk",children:"Thai Vintage Whitchurch"})," ",(new Date).getFullYear(),"."]})}var F=(0,h.Z)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:W({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#e48c4ee0"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:(0,s.Z)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},button:{color:e.palette.common.black,border:"2px solid #000","&:hover":{backgroundColor:"white"}},imageDraw:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}));function H(e){var t=F(),n=l.useState(!0),i=(0,o.Z)(n,2),s=i[0],h=i[1],S=(0,l.useState)(null),O=S[0],P=S[1],B=(0,l.useState)(!1),C=B[0],D=B[1],N=(0,l.useState)(!1),_=N[0],T=N[1],L=(0,l.useState)(!0),W=L[0],G=L[1],H=(0,l.useState)(!1),M=H[0],Q=H[1],V=(0,l.useState)(!1),K=V[0],Y=V[1],U=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];(0,l.useEffect)((function(){null!==O&&!0===C||null===O&&!0===C&&u.default.push("/login")}),[O,C]),(0,l.useEffect)((function(){q()}),[]);var q=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.T)();case 2:e.sent.auth().onAuthStateChanged((function(e){e?(P(e.email),D(!0),Q(!0)):(P(null),D(!0))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.T)();case 2:e.sent.auth().signOut().then((function(){return P(null)})).catch((function(e){return console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){$()}),[]);var $=function(){gapi.load("client",(function(){gapi.client.init({apiKey:"AIzaSyBhH47ELc9gEXMVlraQSskoV7X7_01Dn_Q",clientId:"468408425438-obcg1t2i7tbgh1089avslst12k5bs7vt.apps.googleusercontent.com",discoveryDocs:U,scope:"https://www.googleapis.com/auth/calendar"}).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(ee),Y(!0),gapi.auth2.getAuthInstance().isSignedIn.get()?T(!0):te()})).catch((function(e){console.log(e)}))}))},ee=function(e){T(e)},te=function(){gapi.auth2.getAuthInstance().signIn()};return(0,c.jsxs)("div",{className:t.root,children:[(0,c.jsx)(p.ZP,{}),(0,c.jsx)(m.Z,{position:"absolute",className:(0,d.Z)(t.appBar,s&&t.appBarShift),children:(0,c.jsxs)(x.Z,{className:t.toolbar,children:[(0,c.jsx)(y.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){h(!0),G(!0)},className:(0,d.Z)(t.menuButton,s&&t.menuButtonHidden),children:(0,c.jsx)(k.Z,{})}),(0,c.jsx)(w.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title}),(0,c.jsx)(I.Z,{className:t.button,onClick:J,children:"Logout"})]})}),(0,c.jsxs)(g.ZP,{variant:"permanent",classes:{paper:(0,d.Z)(t.drawerPaper,!s&&t.drawerPaperClose)},open:s,children:[(0,c.jsx)("div",{className:t.toolbarIcon,children:(0,c.jsx)(y.Z,{onClick:function(){h(!1),G(!1)},children:(0,c.jsx)(E.Z,{})})}),W?(0,c.jsxs)("div",{className:t.imageDraw,children:[(0,c.jsx)("img",{src:"/images/thaivintagewhitchurch-logo.png",alt:"thaivintagewhitchurch-logo",style:{width:120,height:120,borderRadius:"50%",overflow:"hidden",marginTop:"-20%"}}),(0,c.jsx)(w.Z,{variant:"h5",color:"secondary",style:{marginTop:20,marginBottom:20},children:"Welcome"}),O]}):null,(0,c.jsx)(j.Z,{}),(0,c.jsx)(v.Z,{children:A})]}),(0,c.jsxs)("main",{className:t.content,children:[(0,c.jsx)("div",{className:t.appBarSpacer}),(0,c.jsxs)(Z.Z,{maxWidth:"lg",className:t.container,children:[(0,c.jsx)(b.Z,{container:!0,spacing:3,style:{display:"flex",justifyContent:"center"},children:M?O?K?_?e.children:(0,c.jsxs)("div",{style:{textAlign:"center",border:"1px solid",padding:20},children:[(0,c.jsx)("h2",{children:"Please Login Google Autherication"}),(0,c.jsx)(I.Z,{variant:"contained",color:"secondary",style:{marginTop:50},onClick:te,children:"Login Google"})]}):(0,c.jsx)(z.Z,{disableShrink:!0}):(0,c.jsx)("h5",{style:{textAlign:"center"},children:"Redirect to Login page "}):(0,c.jsx)(z.Z,{disableShrink:!0})}),(0,c.jsx)(f.Z,{pt:4,children:(0,c.jsx)(X,{})})]})]})]})}},75808:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var i=n(81923),a=n.n(i),r=(n(96257),n(16690),n(34155)),o=function(){var e={apiKey:"AIzaSyB1w1R1YpWx1oD_3FjZBwXQgs-S37oS0yA",authDomain:"thaivintagewhitchurch.firebaseapp.com",databaseURL:"https://thaivintagewhitchurch.firebaseio.com",projectId:"thaivintagewhitchurch",storageBucket:"thaivintagewhitchurch.appspot.com",messagingSenderId:r.env.FIREBASE_MESSAGING_SENDER_ID};return a().apps.length||(a().initializeApp(e),a().auth()),a()}},5334:function(e,t,n){"use strict";n.r(t);var i=n(85893),a=n(67294),r=n(95015),o=n(96827),s=n(5582),c=n.n(s),l=n(80008),u=n.n(l);u().tz.setDefault("Europe/London");var d=(0,o.Zt)(u());t.default=function(){var e=(0,a.useState)([]),t=e[0],n=e[1];(0,a.useEffect)((function(){setTimeout((function(){s()}),2e3)}),[]);var s=function(){gapi.client.calendar.events.list({calendarId:"thaivintagewhitchurch.co.uk_ert6u9r95pcadm2d73fsr1f78k@group.calendar.google.com",showDeleted:!1,singleEvents:!0,orderBy:"startTime"}).then((function(e){var t=e.result.items;if(t.length>0){var i=[];t.forEach((function(e){i.push({id:e.id,start:c()(e.start.dateTime).toDate(),end:c()(e.end.dateTime).toDate(),title:e.summary})})),n(i)}else console.log("No event Coming")})).catch((function(e){return console.log(e)}))};return(0,i.jsx)(r.ZP,{children:(0,i.jsx)(o.f,{localizer:d,events:t,startAccessor:"start",endAccessor:"end",style:{height:500,minWidth:1240}})})}},4107:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return n(5334)}])}},function(e){e.O(0,[883,239,885,770,678,143,472,956,257,169,774,888,179],(function(){return t=4107,e(e.s=t);var t}));var t=e.O();_N_E=t}]);